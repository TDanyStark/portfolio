/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@lottiefiles/dotlottie-web@0.29.1/dist/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t=Object.defineProperty;var e=(e,a,n)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n;var a=(t,a,n)=>e(t,typeof a!="symbol"?a+"":a,n);var n=class{requestAnimationFrame(t){return requestAnimationFrame(t)}cancelAnimationFrame(t){cancelAnimationFrame(t)}},r=class{constructor(){a(this,"_lastHandleId",0);a(this,"_lastImmediate",null)}requestAnimationFrame(t){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate((()=>{t(Date.now())})),this._lastHandleId}cancelAnimationFrame(t){this._lastImmediate&&clearImmediate(this._lastImmediate)}},i=class{constructor(){a(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new n:new r}requestAnimationFrame(t){return this._strategy.requestAnimationFrame(t)}cancelAnimationFrame(t){this._strategy.cancelAnimationFrame(t)}};var o=typeof window<"u"&&typeof window.document<"u";var s={name:"@lottiefiles/dotlottie-web",version:"0.29.1",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.14.11","@vitest/browser":"^2.0.3","@vitest/coverage-istanbul":"^2.0.3","cross-env":"7.0.3",playwright:"^1.45.2",tsup:"8.1.0",typescript:"5.0.4",vitest:"^2.0.3"},publishConfig:{access:"public"}};var h=(()=>{var t=typeof document<"u"?document.currentScript?.src:void 0;return function(e={}){var a=e,n,r,i=new Promise(((t,e)=>{n=t,r=e})),o=Object.assign({},a),s="./this.program",h="";typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),t&&(h=t),h.startsWith("blob:")?h="":h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1);var d=a.print||console.log.bind(console),l=a.printErr||console.error.bind(console);Object.assign(a,o),o=null,a.thisProgram&&(s=a.thisProgram);var u;a.wasmBinary&&(u=a.wasmBinary);var c,m=!1,f,p,g,v,_,y,w,C;function L(){var t=c.buffer;a.HEAP8=f=new Int8Array(t),a.HEAP16=g=new Int16Array(t),a.HEAPU8=p=new Uint8Array(t),a.HEAPU16=v=new Uint16Array(t),a.HEAP32=_=new Int32Array(t),a.HEAPU32=y=new Uint32Array(t),a.HEAPF32=w=new Float32Array(t),a.HEAPF64=C=new Float64Array(t)}var M=[],b=[],I=[];function F(){var t=a.preRun.shift();M.unshift(t)}var E=0,S=null;function P(t){throw a.onAbort?.(t),t="Aborted("+t+")",l(t),m=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),r(t),t}var A=t=>t.startsWith("data:application/octet-stream;base64,"),$;if($="DotLottiePlayer.wasm",!A($)){var k=$;$=a.locateFile?a.locateFile(k,h):h+k}function x(t){if(t==$&&u)return new Uint8Array(u);throw"both async and sync fetching of the wasm failed"}function D(t){return u||typeof fetch!="function"?Promise.resolve().then((()=>x(t))):fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()})).catch((()=>x(t)))}function T(t,e,a){return D(t).then((t=>WebAssembly.instantiate(t,e))).then(a,(t=>{l(`failed to asynchronously prepare wasm: ${t}`),P(t)}))}function W(t,e){var a=$;return u||typeof WebAssembly.instantiateStreaming!="function"||A(a)||typeof fetch!="function"?T(a,t,e):fetch(a,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,t).then(e,(function(n){return l(`wasm streaming compile failed: ${n}`),l("falling back to ArrayBuffer instantiation"),T(a,t,e)}))))}var R=t=>{for(;0<t.length;)t.shift()(a)},j=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(t,e,a)=>{var n=e+a;for(a=e;t[a]&&!(a>=n);)++a;if(16<a-e&&t.buffer&&j)return j.decode(t.subarray(e,a));for(n="";e<a;){var r=t[e++];if(r&128){var i=t[e++]&63;if((r&224)==192)n+=String.fromCharCode((r&31)<<6|i);else{var o=t[e++]&63;r=(r&240)==224?(r&15)<<12|i<<6|o:(r&7)<<18|i<<12|o<<6|t[e++]&63,65536>r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023))}}else n+=String.fromCharCode(r)}return n};class z{constructor(t){this.ya=t-24}}var U=0,B=t=>{for(var e=0,a=0;a<t.length;++a){var n=t.charCodeAt(a);127>=n?e++:2047>=n?e+=2:55296<=n&&57343>=n?(e+=4,++a):e+=3}return e},H=(t,e,a,n)=>{if(0<n){n=a+n-1;for(var r=0;r<t.length;++r){var i=t.charCodeAt(r);if(55296<=i&&57343>=i){var o=t.charCodeAt(++r);i=65536+((i&1023)<<10)|o&1023}if(127>=i){if(a>=n)break;e[a++]=i}else{if(2047>=i){if(a+1>=n)break;e[a++]=192|i>>6}else{if(65535>=i){if(a+2>=n)break;e[a++]=224|i>>12}else{if(a+3>=n)break;e[a++]=240|i>>18,e[a++]=128|i>>12&63}e[a++]=128|i>>6&63}e[a++]=128|i&63}}e[a]=0}},V={},Y=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function N(t){return this.fromWireType(y[t>>2])}var q={},G={},J={},K,X=(t,e,a)=>{function n(e){if(e=a(e),e.length!==t.length)throw new K("Mismatched type converter count");for(var n=0;n<t.length;++n)at(t[n],e[n])}t.forEach((function(t){J[t]=e}));var r=Array(e.length),i=[],o=0;e.forEach(((t,e)=>{G.hasOwnProperty(t)?r[e]=G[t]:(i.push(t),q.hasOwnProperty(t)||(q[t]=[]),q[t].push((()=>{r[e]=G[t],++o,o===i.length&&n(r)})))})),i.length===0&&n(r)},Q,Z=t=>{for(var e="";p[t];)e+=Q[p[t++]];return e},tt;function et(t,e,a={}){var n=e.name;if(!t)throw new tt(`type "${n}" must have a positive integer typeid pointer`);if(G.hasOwnProperty(t)){if(a.ib)return;throw new tt(`Cannot register type '${n}' twice`)}G[t]=e,delete J[t],q.hasOwnProperty(t)&&(e=q[t],delete q[t],e.forEach((t=>t())))}function at(t,e,a={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return et(t,e,a)}var nt=t=>{throw new tt(t.ma.za.xa.name+" instance already deleted")},rt=!1,it=()=>{},ot=(t,e,a)=>e===a?t:a.Ca===void 0?null:(t=ot(t,e,a.Ca),t===null?null:a.ab(t)),st={},ht=[],dt=()=>{for(;ht.length;){var t=ht.pop();t.ma.Ka=!1,t.delete()}},lt,ut={},ct=(t,e)=>{if(e===void 0)throw new tt("ptr should not be undefined");for(;t.Ca;)e=t.Na(e),t=t.Ca;return ut[e]},mt=(t,e)=>{if(!e.za||!e.ya)throw new K("makeClassHandle requires ptr and ptrType");if(!!e.Da!=!!e.Aa)throw new K("Both smartPtrType and smartPtr must be specified");return e.count={value:1},ft(Object.create(t,{ma:{value:e,writable:!0}}))},ft=t=>typeof FinalizationRegistry>"u"?(ft=t=>t,t):(rt=new FinalizationRegistry((t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya))})),ft=t=>{var e=t.ma;return e.Aa&&rt.register(t,{ma:e},t),t},it=t=>{rt.unregister(t)},ft(t));function pt(){}var gt=(t,e)=>Object.defineProperty(e,"name",{value:t}),vt=(t,e,a)=>{if(t[e].Ba===void 0){var n=t[e];t[e]=function(...n){if(!t[e].Ba.hasOwnProperty(n.length))throw new tt(`Function '${a}' called with an invalid number of arguments (${n.length}) - expects one of (${t[e].Ba})!`);return t[e].Ba[n.length].apply(this,n)},t[e].Ba=[],t[e].Ba[n.Oa]=n}},_t=(t,e,n)=>{if(a.hasOwnProperty(t)){if(n===void 0||a[t].Ba!==void 0&&a[t].Ba[n]!==void 0)throw new tt(`Cannot register public name '${t}' twice`);if(vt(a,t,t),a.hasOwnProperty(n))throw new tt(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`);a[t].Ba[n]=e}else a[t]=e,n!==void 0&&(a[t].vb=n)},yt=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t};function wt(t,e,a,n,r,i,o,s){this.name=t,this.constructor=e,this.La=a,this.Fa=n,this.Ca=r,this.cb=i,this.Na=o,this.ab=s,this.kb=[]}var Ct=(t,e,a)=>{for(;e!==a;){if(!e.Na)throw new tt(`Expected null or instance of ${a.name}, got an instance of ${e.name}`);t=e.Na(t),e=e.Ca}return t};function Lt(t,e){if(e===null){if(this.Ta)throw new tt(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new tt(`Cannot pass "${Nt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new tt(`Cannot pass deleted object as a pointer of type ${this.name}`);return Ct(e.ma.ya,e.ma.za.xa,this.xa)}function Mt(t,e){if(e===null){if(this.Ta)throw new tt(`null is not a valid ${this.name}`);if(this.Qa){var a=this.Ua();return t!==null&&t.push(this.Fa,a),a}return 0}if(!e||!e.ma)throw new tt(`Cannot pass "${Nt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new tt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&e.ma.za.Pa)throw new tt(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);if(a=Ct(e.ma.ya,e.ma.za.xa,this.xa),this.Qa){if(e.ma.Aa===void 0)throw new tt("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(e.ma.Da===this)a=e.ma.Aa;else throw new tt(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);break;case 1:a=e.ma.Aa;break;case 2:if(e.ma.Da===this)a=e.ma.Aa;else{var n=e.clone();a=this.lb(a,Bt((()=>n.delete()))),t!==null&&t.push(this.Fa,a)}break;default:throw new tt("Unsupporting sharing policy")}}return a}function bt(t,e){if(e===null){if(this.Ta)throw new tt(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new tt(`Cannot pass "${Nt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new tt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(e.ma.za.Pa)throw new tt(`Cannot convert argument of type ${e.ma.za.name} to parameter type ${this.name}`);return Ct(e.ma.ya,e.ma.za.xa,this.xa)}function It(t,e,a,n,r,i,o,s,h,d,l){this.name=t,this.xa=e,this.Ta=a,this.Pa=n,this.Qa=r,this.jb=i,this.pb=o,this.Za=s,this.Ua=h,this.lb=d,this.Fa=l,r||e.Ca!==void 0?this.toWireType=Mt:(this.toWireType=n?Lt:bt,this.Ea=null)}var Ft=(t,e,n)=>{if(!a.hasOwnProperty(t))throw new K("Replacing nonexistent public symbol");a[t].Ba!==void 0&&n!==void 0?a[t].Ba[n]=e:(a[t]=e,a[t].Oa=n)},Et,St=(t,e,n=[])=>(t.includes("j")?(t=t.replace(/p/g,"i"),e=(0,a["dynCall_"+t])(e,...n)):e=Et.get(e)(...n),e),Pt=(t,e)=>(...a)=>St(t,e,a),At=(t,e)=>{t=Z(t);var a=t.includes("j")?Pt(t,e):Et.get(e);if(typeof a!="function")throw new tt(`unknown function pointer with signature ${t}: ${e}`);return a},$t,kt=t=>{t=Le(t);var e=Z(t);return Me(t),e},xt=(t,e)=>{function a(t){r[t]||G[t]||(J[t]?J[t].forEach(a):(n.push(t),r[t]=!0))}var n=[],r={};throw e.forEach(a),new $t(`${t}: `+n.map(kt).join([", "]))},Dt=(t,e)=>{for(var a=[],n=0;n<t;n++)a.push(y[e+4*n>>2]);return a};function Tt(t){for(var e=1;e<t.length;++e)if(t[e]!==null&&t[e].Ea===void 0)return!0;return!1}function Wt(t,e,a,n,r){var i=e.length;if(2>i)throw new tt("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=e[1]!==null&&a!==null,s=Tt(e),h=e[0].name!=="void",d=i-2,l=Array(d),u=[],c=[];return gt(t,(function(...a){if(a.length!==d)throw new tt(`function ${t} called with ${a.length} arguments, expected ${d}`);if(c.length=0,u.length=o?2:1,u[0]=r,o){var i=e[1].toWireType(c,this);u[1]=i}for(var m=0;m<d;++m)l[m]=e[m+2].toWireType(c,a[m]),u.push(l[m]);if(a=n(...u),s)Y(c);else for(m=o?1:2;m<e.length;m++){var f=m===1?i:l[m-2];e[m].Ea!==null&&e[m].Ea(f)}return i=h?e[0].fromWireType(a):void 0,i}))}var Rt=t=>{t=t.trim();let e=t.indexOf("(");return e!==-1?t.substr(0,e):t},jt=[],Ot=[],zt=t=>{9<t&&--Ot[t+1]===0&&(Ot[t]=void 0,jt.push(t))},Ut=t=>{if(!t)throw new tt("Cannot use deleted val. handle = "+t);return Ot[t]},Bt=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let e=jt.pop()||Ot.length;return Ot[e]=t,Ot[e+1]=1,e}},Ht={name:"emscripten::val",fromWireType:t=>{var e=Ut(t);return zt(t),e},toWireType:(t,e)=>Bt(e),argPackAdvance:8,readValueFromPointer:N,Ea:null},Vt=(t,e,a)=>{switch(e){case 1:return a?function(t){return this.fromWireType(f[t])}:function(t){return this.fromWireType(p[t])};case 2:return a?function(t){return this.fromWireType(g[t>>1])}:function(t){return this.fromWireType(v[t>>1])};case 4:return a?function(t){return this.fromWireType(_[t>>2])}:function(t){return this.fromWireType(y[t>>2])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Yt=(t,e)=>{var a=G[t];if(a===void 0)throw t=`${e} has unknown type ${kt(t)}`,new tt(t);return a},Nt=t=>{if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t},qt=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(w[t>>2])};case 8:return function(t){return this.fromWireType(C[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},Gt=(t,e,a)=>{switch(e){case 1:return a?t=>f[t]:t=>p[t];case 2:return a?t=>g[t>>1]:t=>v[t>>1];case 4:return a?t=>_[t>>2]:t=>y[t>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Jt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Kt=(t,e)=>{for(var a=t>>1,n=a+e/2;!(a>=n)&&v[a];)++a;if(a<<=1,32<a-t&&Jt)return Jt.decode(p.subarray(t,a));for(a="",n=0;!(n>=e/2);++n){var r=g[t+2*n>>1];if(r==0)break;a+=String.fromCharCode(r)}return a},Xt=(t,e,a)=>{if(a??(a=2147483647),2>a)return 0;a-=2;var n=e;a=a<2*t.length?a/2:t.length;for(var r=0;r<a;++r)g[e>>1]=t.charCodeAt(r),e+=2;return g[e>>1]=0,e-n},Qt=t=>2*t.length,Zt=(t,e)=>{for(var a=0,n="";!(a>=e/4);){var r=_[t+4*a>>2];if(r==0)break;++a,65536<=r?(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):n+=String.fromCharCode(r)}return n},te=(t,e,a)=>{if(a??(a=2147483647),4>a)return 0;var n=e;a=n+a-4;for(var r=0;r<t.length;++r){var i=t.charCodeAt(r);if(55296<=i&&57343>=i){var o=t.charCodeAt(++r);i=65536+((i&1023)<<10)|o&1023}if(_[e>>2]=i,e+=4,e+4>a)break}return _[e>>2]=0,e-n},ee=t=>{for(var e=0,a=0;a<t.length;++a){var n=t.charCodeAt(a);55296<=n&&57343>=n&&++a,e+=4}return e},ae=[],ne=t=>{var e=ae.length;return ae.push(t),e},re=(t,e)=>{for(var a=Array(t),n=0;n<t;++n)a[n]=Yt(y[e+4*n>>2],"parameter "+n);return a},ie=Reflect.construct,oe={},se=()=>{if(!he){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},e;for(e in oe)oe[e]===void 0?delete t[e]:t[e]=oe[e];var a=[];for(e in t)a.push(`${e}=${t[e]}`);he=a}return he},he,de=[null,[],[]],le=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);P("initRandomDevice")},ue=t=>(ue=le())(t),ce=t=>t%4===0&&(t%100!==0||t%400===0),me=[31,29,31,30,31,30,31,31,30,31,30,31],fe=[31,28,31,30,31,30,31,31,30,31,30,31];function pe(t){var e=Array(B(t)+1);return H(t,e,0,e.length),e}var ge=(t,e,a,n)=>{function r(t,e,a){for(t=typeof t=="number"?t.toString():t||"";t.length<e;)t=a[0]+t;return t}function i(t,e){return r(t,e,"0")}function o(t,e){function a(t){return 0>t?-1:0<t?1:0}var n;return(n=a(t.getFullYear()-e.getFullYear()))===0&&(n=a(t.getMonth()-e.getMonth()))===0&&(n=a(t.getDate()-e.getDate())),n}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function h(t){var e=t.Ia;for(t=new Date(new Date(t.Ja+1900,0,1).getTime());0<e;){var a=t.getMonth(),n=(ce(t.getFullYear())?me:fe)[a];if(e>n-t.getDate())e-=n-t.getDate()+1,t.setDate(1),11>a?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else{t.setDate(t.getDate()+e);break}}return a=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),a=s(a),0>=o(e,t)?0>=o(a,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var d=y[n+40>>2];n={sb:_[n>>2],rb:_[n+4>>2],Ra:_[n+8>>2],Va:_[n+12>>2],Sa:_[n+16>>2],Ja:_[n+20>>2],Ga:_[n+24>>2],Ia:_[n+28>>2],wb:_[n+32>>2],qb:_[n+36>>2],tb:d&&d?O(p,d):""},a=a?O(p,a):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in d)a=a.replace(new RegExp(l,"g"),d[l]);var u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c="January February March April May June July August September October November December".split(" ");d={"%a":t=>u[t.Ga].substring(0,3),"%A":t=>u[t.Ga],"%b":t=>c[t.Sa].substring(0,3),"%B":t=>c[t.Sa],"%C":t=>i((t.Ja+1900)/100|0,2),"%d":t=>i(t.Va,2),"%e":t=>r(t.Va,2," "),"%g":t=>h(t).toString().substring(2),"%G":h,"%H":t=>i(t.Ra,2),"%I":t=>(t=t.Ra,t==0?t=12:12<t&&(t-=12),i(t,2)),"%j":t=>{for(var e=0,a=0;a<=t.Sa-1;e+=(ce(t.Ja+1900)?me:fe)[a++]);return i(t.Va+e,3)},"%m":t=>i(t.Sa+1,2),"%M":t=>i(t.rb,2),"%n":()=>`\n`,"%p":t=>0<=t.Ra&&12>t.Ra?"AM":"PM","%S":t=>i(t.sb,2),"%t":()=>"\t","%u":t=>t.Ga||7,"%U":t=>i(Math.floor((t.Ia+7-t.Ga)/7),2),"%V":t=>{var e=Math.floor((t.Ia+7-(t.Ga+6)%7)/7);if(2>=(t.Ga+371-t.Ia-2)%7&&e++,e)e==53&&(a=(t.Ga+371-t.Ia)%7,a==4||a==3&&ce(t.Ja)||(e=1));else{e=52;var a=(t.Ga+7-t.Ia-1)%7;(a==4||a==5&&ce(t.Ja%400-1))&&e++}return i(e,2)},"%w":t=>t.Ga,"%W":t=>i(Math.floor((t.Ia+7-(t.Ga+6)%7)/7),2),"%y":t=>(t.Ja+1900).toString().substring(2),"%Y":t=>t.Ja+1900,"%z":t=>{t=t.qb;var e=0<=t;return t=Math.abs(t)/60,(e?"+":"-")+("0000"+(t/60*100+t%60)).slice(-4)},"%Z":t=>t.tb,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(l in d)a.includes(l)&&(a=a.replace(new RegExp(l,"g"),d[l](n)));return a=a.replace(/\0\0/g,"%"),l=pe(a),l.length>e?0:(f.set(l,t),l.length-1)};K=a.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}};for(var ve=Array(256),_e=0;256>_e;++_e)ve[_e]=String.fromCharCode(_e);Q=ve,tt=a.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(pt.prototype,{isAliasOf:function(t){if(!(this instanceof pt&&t instanceof pt))return!1;var e=this.ma.za.xa,a=this.ma.ya;t.ma=t.ma;var n=t.ma.za.xa;for(t=t.ma.ya;e.Ca;)a=e.Na(a),e=e.Ca;for(;n.Ca;)t=n.Na(t),n=n.Ca;return e===n&&a===t},clone:function(){if(this.ma.ya||nt(this),this.ma.Ma)return this.ma.count.value+=1,this;var t=ft,e=Object,a=e.create,n=Object.getPrototypeOf(this),r=this.ma;return t=t(a.call(e,n,{ma:{value:{count:r.count,Ka:r.Ka,Ma:r.Ma,ya:r.ya,za:r.za,Aa:r.Aa,Da:r.Da}}})),t.ma.count.value+=1,t.ma.Ka=!1,t},delete(){if(this.ma.ya||nt(this),this.ma.Ka&&!this.ma.Ma)throw new tt("Object already scheduled for deletion");it(this);var t=this.ma;--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||nt(this),this.ma.Ka&&!this.ma.Ma)throw new tt("Object already scheduled for deletion");return ht.push(this),ht.length===1&&lt&&lt(dt),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(ut).length,a.getLiveInheritedInstances=()=>{var t=[],e;for(e in ut)ut.hasOwnProperty(e)&&t.push(ut[e]);return t},a.flushPendingDeletes=dt,a.setDelayFunction=t=>{lt=t,ht.length&&lt&&lt(dt)},Object.assign(It.prototype,{eb(t){return this.Za&&(t=this.Za(t)),t},Xa(t){this.Fa?.(t)},argPackAdvance:8,readValueFromPointer:N,fromWireType:function(t){function e(){return this.Qa?mt(this.xa.La,{za:this.jb,ya:a,Da:this,Aa:t}):mt(this.xa.La,{za:this,ya:t})}var a=this.eb(t);if(!a)return this.Xa(t),null;var n=ct(this.xa,a);if(n!==void 0)return n.ma.count.value===0?(n.ma.ya=a,n.ma.Aa=t,n.clone()):(n=n.clone(),this.Xa(t),n);if(n=this.xa.cb(a),n=st[n],!n)return e.call(this);n=this.Pa?n.$a:n.pointerType;var r=ot(a,this.xa,n.xa);return r===null?e.call(this):this.Qa?mt(n.xa.La,{za:n,ya:r,Da:this,Aa:t}):mt(n.xa.La,{za:n,ya:r})}}),$t=a.UnboundTypeError=((t,e)=>{var a=gt(e,(function(t){this.name=e,this.message=t,t=Error(t).stack,t!==void 0&&(this.stack=this.toString()+`\n`+t.replace(/^Error(:[^\n]*)?\n/,""))}));return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},a})(Error,"UnboundTypeError"),Ot.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>Ot.length/2-5-jt.length;var ye={c:(t,e,a,n)=>{P(`Assertion failed: ${t?O(p,t):""}, at: `+[e?e?O(p,e):"":"unknown filename",a,n?n?O(p,n):"":"unknown function"])},m:(t,e,a)=>{var n=new z(t);throw y[n.ya+16>>2]=0,y[n.ya+4>>2]=e,y[n.ya+8>>2]=a,U=t,U},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:t=>{var e=V[t];delete V[t];var a=e.Ua,n=e.Fa,r=e.Ya,i=r.map((t=>t.hb)).concat(r.map((t=>t.nb)));X([t],i,(t=>{var i={};return r.forEach(((e,a)=>{var n=t[a],o=e.fb,s=e.gb,h=t[a+r.length],d=e.mb,l=e.ob;i[e.bb]={read:t=>n.fromWireType(o(s,t)),write:(t,e)=>{var a=[];d(l,t,h.toWireType(a,e)),Y(a)}}})),[{name:e.name,fromWireType:t=>{var e={},a;for(a in i)e[a]=i[a].read(t);return n(t),e},toWireType:(t,e)=>{for(var r in i)if(!(r in e))throw new TypeError(`Missing field: "${r}"`);var o=a();for(r in i)i[r].write(o,e[r]);return t!==null&&t.push(n,o),o},argPackAdvance:8,readValueFromPointer:N,Ea:n}]}))},I:()=>{},Y:(t,e,a,n)=>{e=Z(e),at(t,{name:e,fromWireType:function(t){return!!t},toWireType:function(t,e){return e?a:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(p[t])},Ea:null})},r:(t,e,a,n,r,i,o,s,h,d,l,u,c)=>{l=Z(l),i=At(r,i),s&&(s=At(o,s)),d&&(d=At(h,d)),c=At(u,c);var m=yt(l);_t(m,(function(){xt(`Cannot construct ${l} due to unbound types`,[n])})),X([t,e,a],n?[n]:[],(e=>{if(e=e[0],n)var a=e.xa,r=a.La;else r=pt.prototype;e=gt(l,(function(...t){if(Object.getPrototypeOf(this)!==o)throw new tt("Use 'new' to construct "+l);if(h.Ha===void 0)throw new tt(l+" has no accessible constructor");var e=h.Ha[t.length];if(e===void 0)throw new tt(`Tried to invoke ctor of ${l} with invalid number of parameters (${t.length}) - expected (${Object.keys(h.Ha).toString()}) parameters instead!`);return e.apply(this,t)}));var o=Object.create(r,{constructor:{value:e}});e.prototype=o;var h=new wt(l,e,o,c,a,i,s,d);if(h.Ca){var u;(u=h.Ca).Wa??(u.Wa=[]),h.Ca.Wa.push(h)}return a=new It(l,h,!0,!1,!1),u=new It(l+"*",h,!1,!1,!1),r=new It(l+" const*",h,!1,!0,!1),st[t]={pointerType:u,$a:r},Ft(m,e),[a,u,r]}))},q:(t,e,a,n,r,i)=>{var o=Dt(e,a);r=At(n,r),X([],[t],(t=>{t=t[0];var a=`constructor ${t.name}`;if(t.xa.Ha===void 0&&(t.xa.Ha=[]),t.xa.Ha[e-1]!==void 0)throw new tt(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.xa.Ha[e-1]=()=>{xt(`Cannot construct ${t.name} due to unbound types`,o)},X([],o,(n=>(n.splice(1,0,null),t.xa.Ha[e-1]=Wt(a,n,null,r,i),[]))),[]}))},f:(t,e,a,n,r,i,o,s)=>{var h=Dt(a,n);e=Z(e),e=Rt(e),i=At(r,i),X([],[t],(t=>{function n(){xt(`Cannot call ${r} due to unbound types`,h)}t=t[0];var r=`${t.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.xa.kb.push(e);var d=t.xa.La,l=d[e];return l===void 0||l.Ba===void 0&&l.className!==t.name&&l.Oa===a-2?(n.Oa=a-2,n.className=t.name,d[e]=n):(vt(d,e,r),d[e].Ba[a-2]=n),X([],h,(n=>(n=Wt(r,n,t,i,o),d[e].Ba===void 0?(n.Oa=a-2,d[e]=n):d[e].Ba[a-2]=n,[]))),[]}))},X:t=>at(t,Ht),x:(t,e,a,n)=>{function r(){}e=Z(e),r.values={},at(t,{name:e,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Vt(e,a,n),Ea:null}),_t(e,r)},k:(t,e,a)=>{var n=Yt(t,"enum");e=Z(e),t=n.constructor,n=Object.create(n.constructor.prototype,{value:{value:a},constructor:{value:gt(`${n.name}_${e}`,(function(){}))}}),t.values[a]=n,t[e]=n},C:(t,e,a)=>{e=Z(e),at(t,{name:e,fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:qt(e,a),Ea:null})},E:(t,e,a,n,r,i)=>{var o=Dt(e,a);t=Z(t),t=Rt(t),r=At(n,r),_t(t,(function(){xt(`Cannot call ${t} due to unbound types`,o)}),e-1),X([],o,(a=>(Ft(t,Wt(t,[a[0],null].concat(a.slice(1)),null,r,i),e-1),[])))},l:(t,e,a,n,r)=>{if(e=Z(e),r===-1&&(r=4294967295),r=t=>t,n===0){var i=32-8*a;r=t=>t<<i>>>i}var o=e.includes("unsigned")?function(t,e){return e>>>0}:function(t,e){return e};at(t,{name:e,fromWireType:r,toWireType:o,argPackAdvance:8,readValueFromPointer:Gt(e,a,n!==0),Ea:null})},g:(t,e,a)=>{function n(t){return new r(f.buffer,y[t+4>>2],y[t>>2])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];a=Z(a),at(t,{name:a,fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{ib:!0})},w:t=>{at(t,Ht)},ca:(t,e,a,n,r,i,o,s,h,d,l,u)=>{a=Z(a),i=At(r,i),s=At(o,s),d=At(h,d),u=At(l,u),X([t],[e],(t=>(t=t[0],[new It(a,t.xa,!1,!1,!0,t,n,i,s,d,u)])))},D:(t,e)=>{e=Z(e);var a=e==="std::string";at(t,{name:e,fromWireType:function(t){var e=y[t>>2],n=t+4;if(a)for(var r=n,i=0;i<=e;++i){var o=n+i;if(i==e||p[o]==0){if(r=r?O(p,r,o-r):"",s===void 0)var s=r;else s+="\0",s+=r;r=o+1}}else{for(s=Array(e),i=0;i<e;++i)s[i]=String.fromCharCode(p[n+i]);s=s.join("")}return Me(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n=typeof e=="string";if(!(n||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array))throw new tt("Cannot pass non-string to std::string");var r=a&&n?B(e):e.length,i=Ce(4+r+1),o=i+4;if(y[i>>2]=r,a&&n)H(e,p,o,r+1);else if(n)for(n=0;n<r;++n){var s=e.charCodeAt(n);if(255<s)throw Me(o),new tt("String has UTF-16 code units that do not fit in 8 bits");p[o+n]=s}else for(n=0;n<r;++n)p[o+n]=e[n];return t!==null&&t.push(Me,i),i},argPackAdvance:8,readValueFromPointer:N,Ea(t){Me(t)}})},u:(t,e,a)=>{if(a=Z(a),e===2)var n=Kt,r=Xt,i=Qt,o=t=>v[t>>1];else e===4&&(n=Zt,r=te,i=ee,o=t=>y[t>>2]);at(t,{name:a,fromWireType:t=>{for(var a=y[t>>2],r,i=t+4,s=0;s<=a;++s){var h=t+4+s*e;(s==a||o(h)==0)&&(i=n(i,h-i),r===void 0?r=i:(r+="\0",r+=i),i=h+e)}return Me(t),r},toWireType:(t,n)=>{if(typeof n!="string")throw new tt(`Cannot pass non-string to C++ string type ${a}`);var o=i(n),s=Ce(4+o+e);return y[s>>2]=o/e,r(n,s+4,o+e),t!==null&&t.push(Me,s),s},argPackAdvance:8,readValueFromPointer:N,Ea(t){Me(t)}})},s:(t,e,a,n,r,i)=>{V[t]={name:Z(e),Ua:At(a,n),Fa:At(r,i),Ya:[]}},j:(t,e,a,n,r,i,o,s,h,d)=>{V[t].Ya.push({bb:Z(e),hb:a,fb:At(n,r),gb:i,nb:o,mb:At(s,h),ob:d})},Z:(t,e)=>{e=Z(e),at(t,{ub:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(t,e,a,n)=>(t=ae[t],e=Ut(e),t(null,e,a,n)),F:zt,$:(t,e,a)=>{var n=re(t,e),r=n.shift();t--;var i=Array(t);return e=`methodCaller<(${n.map((t=>t.name)).join(", ")}) => ${r.name}>`,ne(gt(e,((e,o,s,h)=>{for(var d=0,l=0;l<t;++l)i[l]=n[l].readValueFromPointer(h+d),d+=n[l].argPackAdvance;return o=a===1?ie(o,i):o.apply(e,i),e=[],o=r.toWireType(e,o),e.length&&(y[s>>2]=Bt(e)),o})))},ba:t=>{9<t&&(Ot[t+1]+=1)},_:t=>{var e=Ut(t);Y(e),zt(t)},o:(t,e)=>(t=Yt(t,"_emval_take_value"),t=t.readValueFromPointer(e),Bt(t)),W:()=>{P("")},V:()=>performance.now(),L:t=>{var e=p.length;if(t>>>=0,2147483648<t)return!1;for(var a=1;4>=a;a*=2){var n=e*(1+.2/a);n=Math.min(n,t+100663296);var r=Math;n=Math.max(t,n);t:{r=(r.min.call(r,2147483648,n+(65536-n%65536)%65536)-c.buffer.byteLength+65535)/65536;try{c.grow(r),L();var i=1;break t}catch{}i=void 0}if(i)return!0}return!1},S:(t,e)=>{var a=0;return se().forEach(((n,r)=>{var i=e+a;for(r=y[t+4*r>>2]=i,i=0;i<n.length;++i)f[r++]=n.charCodeAt(i);f[r]=0,a+=n.length+1})),0},T:(t,e)=>{var a=se();y[t>>2]=a.length;var n=0;return a.forEach((t=>n+=t.length+1)),y[e>>2]=n,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(t,e,a,n)=>{for(var r=0,i=0;i<a;i++){var o=y[e>>2],s=y[e+4>>2];e+=8;for(var h=0;h<s;h++){var u=p[o+h],c=de[t];u===0||u===10?((t===1?d:l)(O(c,0)),c.length=0):c.push(u)}r+=s}return y[n>>2]=r,0},U:(t,e)=>(ue(p.subarray(t,t+e)),0),i:ke,d:$e,e:Ae,p:xe,y:We,b:Se,a:Pe,h:Te,n:De,G:Re,K:(t,e,a,n)=>ge(t,e,a,n)},we=function(){function t(t){return we=t.exports,c=we.da,L(),Et=we.ha,b.unshift(we.ea),E--,a.monitorRunDependencies?.(E),E==0&&(S&&(t=S,S=null,t())),we}var e={a:ye};if(E++,a.monitorRunDependencies?.(E),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(t){l(`Module.instantiateWasm callback failed with error: ${t}`),r(t)}return W(e,(function(e){t(e.instance)})).catch(r),{}}(),Ce=t=>(Ce=we.fa)(t),Le=t=>(Le=we.ga)(t),Me=t=>(Me=we.ia)(t),be=(t,e)=>(be=we.ja)(t,e),Ie=t=>(Ie=we.ka)(t),Fe=()=>(Fe=we.la)();a.dynCall_iijj=(t,e,n,r,i,o)=>(a.dynCall_iijj=we.na)(t,e,n,r,i,o),a.dynCall_vijj=(t,e,n,r,i,o)=>(a.dynCall_vijj=we.oa)(t,e,n,r,i,o),a.dynCall_jiii=(t,e,n,r)=>(a.dynCall_jiii=we.pa)(t,e,n,r),a.dynCall_jii=(t,e,n)=>(a.dynCall_jii=we.qa)(t,e,n);var Ee=a.dynCall_viiij=(t,e,n,r,i,o)=>(Ee=a.dynCall_viiij=we.ra)(t,e,n,r,i,o);a.dynCall_jiji=(t,e,n,r,i)=>(a.dynCall_jiji=we.sa)(t,e,n,r,i),a.dynCall_viijii=(t,e,n,r,i,o,s)=>(a.dynCall_viijii=we.ta)(t,e,n,r,i,o,s),a.dynCall_iiiiij=(t,e,n,r,i,o,s)=>(a.dynCall_iiiiij=we.ua)(t,e,n,r,i,o,s),a.dynCall_iiiiijj=(t,e,n,r,i,o,s,h,d)=>(a.dynCall_iiiiijj=we.va)(t,e,n,r,i,o,s,h,d),a.dynCall_iiiiiijj=(t,e,n,r,i,o,s,h,d,l)=>(a.dynCall_iiiiiijj=we.wa)(t,e,n,r,i,o,s,h,d,l);function Se(t,e){var a=Fe();try{Et.get(t)(e)}catch(t){if(Ie(a),t!==t+0)throw t;be(1,0)}}function Pe(t,e,a){var n=Fe();try{Et.get(t)(e,a)}catch(t){if(Ie(n),t!==t+0)throw t;be(1,0)}}function Ae(t,e,a,n){var r=Fe();try{return Et.get(t)(e,a,n)}catch(t){if(Ie(r),t!==t+0)throw t;be(1,0)}}function $e(t,e,a){var n=Fe();try{return Et.get(t)(e,a)}catch(t){if(Ie(n),t!==t+0)throw t;be(1,0)}}function ke(t,e){var a=Fe();try{return Et.get(t)(e)}catch(t){if(Ie(a),t!==t+0)throw t;be(1,0)}}function xe(t,e,a,n,r,i){var o=Fe();try{return Et.get(t)(e,a,n,r,i)}catch(t){if(Ie(o),t!==t+0)throw t;be(1,0)}}function De(t,e,a,n,r){var i=Fe();try{Et.get(t)(e,a,n,r)}catch(t){if(Ie(i),t!==t+0)throw t;be(1,0)}}function Te(t,e,a,n){var r=Fe();try{Et.get(t)(e,a,n)}catch(t){if(Ie(r),t!==t+0)throw t;be(1,0)}}function We(t){var e=Fe();try{Et.get(t)()}catch(t){if(Ie(e),t!==t+0)throw t;be(1,0)}}function Re(t,e,a,n,r,i){var o=Fe();try{Ee(t,e,a,n,r,i)}catch(t){if(Ie(o),t!==t+0)throw t;be(1,0)}}var je;S=function t(){je||Oe(),je||(S=t)};function Oe(){function t(){if(!je&&(je=!0,a.calledRun=!0,!m)){if(R(b),n(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();I.unshift(t)}R(I)}}if(!(0<E)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)F();R(M),0<E||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Oe(),i}})(),d=h;var l=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(t){return await d({locateFile:()=>t})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch((async t=>{let e=`https://unpkg.com/${s.name}@${s.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${t.message}`),console.warn(`Attempting to load WASM from backup URL: ${e}`);try{return await this._tryLoad(e)}catch(e){throw console.error(`Primary WASM URL failed: ${t.message}`),console.error(`Backup WASM URL failed: ${e.message}`),new Error("WASM loading failed from all sources.")}}))),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(t){this._wasmURL=t,this._ModulePromise=null}};a(l,"_ModulePromise",null),a(l,"_wasmURL",`https://cdn.jsdelivr.net/npm/${s.name}@${s.version}/dist/dotlottie-player.wasm`);var u=class{constructor(){a(this,"_eventListeners",new Map)}addEventListener(t,e){let a=this._eventListeners.get(t);a||(a=new Set,this._eventListeners.set(t,a)),a.add(e)}removeEventListener(t,e){let a=this._eventListeners.get(t);a&&(e?(a.delete(e),a.size===0&&this._eventListeners.delete(t)):this._eventListeners.delete(t))}dispatch(t){this._eventListeners.get(t.type)?.forEach((e=>e(t)))}removeAllEventListeners(){this._eventListeners.clear()}};function c(t){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(t)}function m(t){if(!c(t))return 0;let e=t.replace("#","");return e=e.length===6?`${e}ff`:e,parseInt(e,16)}var f=(t,e)=>t==="reverse"?e.Mode.Reverse:t==="bounce"?e.Mode.Bounce:t==="reverse-bounce"?e.Mode.ReverseBounce:e.Mode.Forward,p=(t,e)=>t==="contain"?e.Fit.Contain:t==="cover"?e.Fit.Cover:t==="fill"?e.Fit.Fill:t==="fit-height"?e.Fit.FitHeight:t==="fit-width"?e.Fit.FitWidth:e.Fit.None,g=(t,e)=>{let a=new e.VectorFloat;return a.push_back(t[0]),a.push_back(t[1]),a},v=(t,e)=>{let a=new e.VectorFloat;return t.length!==2||(a.push_back(t[0]),a.push_back(t[1])),a},_=class t{constructor(e){a(this,"_canvas");a(this,"_context",null);a(this,"_eventManager");a(this,"_animationFrameId",null);a(this,"_frameManager");a(this,"_dotLottieCore",null);a(this,"_renderConfig",{});a(this,"_isFrozen",!1);a(this,"_backgroundColor",null);this._canvas=e.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new u,this._frameManager=new i,this._renderConfig=e.renderConfig??{},l.load().then((a=>{t._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:e.autoplay??!1,backgroundColor:0,loopAnimation:e.loop??!1,mode:f(e.mode??"forward",a),segment:v(e.segment??[],a),speed:e.speed??1,useFrameInterpolation:e.useFrameInterpolation??!0,marker:e.marker??"",layout:e.layout?{align:g(e.layout.align,a),fit:p(e.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),e.data?this._loadFromData(e.data):e.src&&this._loadFromSrc(e.src),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor)})).catch((t=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${t}`)})}))}_loadFromSrc(t){async function e(){let e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch the animation data from URL: ${t}. ${e.status}: ${e.statusText}`);let a=(e.headers.get("content-type")??"").trim(),n;return["application/json","text/plain"].some((t=>a.startsWith(t)))?n=await e.text():n=await e.arrayBuffer(),n}e().then((t=>{this._loadFromData(t)})).catch((e=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${t}. ${e}`)})}))}_loadFromData(t){if(this._dotLottieCore===null)return;let e=this._canvas.width,a=this._canvas.height,n=!1;if(typeof t=="string")n=this._dotLottieCore.loadAnimationData(t,e,a);else if(t instanceof ArrayBuffer)n=this._dotLottieCore.loadDotLottieData(t,e,a);else if(typeof t=="object")n=this._dotLottieCore.loadAnimationData(JSON.stringify(t),e,a);else{this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}n?(this._eventManager.dispatch({type:"load"}),o&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")})}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let e=this._dotLottieCore?.config().layout;if(e)return{align:[e.align.get(0),e.align.get(1)],fit:(()=>{switch(e.fit){case t._wasmModule?.Fit.Contain:return"contain";case t._wasmModule?.Fit.Cover:return"cover";case t._wasmModule?.Fit.Fill:return"fill";case t._wasmModule?.Fit.FitHeight:return"fit-height";case t._wasmModule?.Fit.FitWidth:return"fit-width";case t._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let t=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!t)return null;let e=JSON.parse(t);return Object.keys(e).length===0?null:e}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let t=this._dotLottieCore?.config().segment;if(t&&t.size()===2)return[t.get(0),t.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let e=this._dotLottieCore?.config().mode;return e===t._wasmModule?.Mode.Reverse?"reverse":e===t._wasmModule?.Mode.Bounce?"bounce":e===t._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(e){this._dotLottieCore===null||t._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:e.autoplay??!1,backgroundColor:0,loopAnimation:e.loop??!1,mode:f(e.mode??"forward",t._wasmModule),segment:v(e.segment??[],t._wasmModule),speed:e.speed??1,useFrameInterpolation:e.useFrameInterpolation??!0,marker:e.marker??"",layout:e.layout?{align:g(e.layout.align,t._wasmModule),fit:p(e.layout.fit,t._wasmModule)}:t._wasmModule.createDefaultLayout()}),e.data?this._loadFromData(e.data):e.src&&this._loadFromSrc(e.src),this.setBackgroundColor(e.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return!1;if(this._dotLottieCore.render()){let t=this._dotLottieCore.buffer(),e=new Uint8ClampedArray(t,0,this._canvas.width*this._canvas.height*4),a=null;return typeof ImageData>"u"?(a=this._context.createImageData(this._canvas.width,this._canvas.height),a.data.set(e)):a=new ImageData(e,this._canvas.width,this._canvas.height),this._context.putImageData(a,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let t=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(this._dotLottieCore===null)return;let t=this._dotLottieCore.play();this._isFrozen=!1,t&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(t){if(this._dotLottieCore===null||t<0||t>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:t})}setBackgroundColor(t){this._dotLottieCore!==null&&(o&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=t:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:m(t)}),this._backgroundColor=t)}setLoop(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:t})}setUseFrameInterpolation(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:t})}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(o&&this._canvas instanceof HTMLCanvasElement){let t=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:e,width:a}=this._canvas.getBoundingClientRect();this._canvas.width=a*t,this._canvas.height=e*t}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(e,a){this._dotLottieCore===null||t._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:v([e,a],t._wasmModule)})}setMode(e){this._dotLottieCore===null||t._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:f(e,t._wasmModule)})}setRenderConfig(t){this._renderConfig=t}loadAnimation(t){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===t)return;this._dotLottieCore.loadAnimation(t,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${t}`)})}setMarker(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:t})}markers(){let t=this._dotLottieCore?.markers();if(t){let e=[];for(let a=0;a<t.size();a+=1){let n=t.get(a);e.push({name:n.name,time:n.time,duration:n.duration})}return e}return[]}loadTheme(t){if(this._dotLottieCore===null)return!1;let e=this._dotLottieCore.loadTheme(t);return this._render(),e}loadThemeData(t){if(this._dotLottieCore===null)return!1;let e=this._dotLottieCore.loadThemeData(t);return this._render(),e}setLayout(e){this._dotLottieCore===null||t._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:g(e.align,t._wasmModule),fit:p(e.fit,t._wasmModule)}})}setViewport(t,e,a,n){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(t,e,a,n)}static setWasmUrl(t){l.setWasmUrl(t)}loadStateMachine(t){return this._dotLottieCore?.loadStateMachine(t)??!1}startStateMachine(){let t=this._dotLottieCore?.startStateMachine()??!1;return t&&this._setupStateMachineListeners(),t}stopStateMachine(){let t=this._dotLottieCore?.stopStateMachine()??!1;return t&&this._cleanupStateMachineListeners(),t}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),a=this._canvas.width/e.width,n=this._canvas.height/e.height,r=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,i=(t.clientX-e.left)*a/r,o=(t.clientY-e.top)*n/r;return{x:i,y:o}}_onPointerUp(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${a}`)}_onPointerDown(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${a}`)}_onPointerMove(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${a}`)}_onPointerEnter(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${a}`)}_onPointerLeave(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${a}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(t){return this._dotLottieCore?.postEventPayload(t)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return[];let t=this._dotLottieCore.stateMachineFrameworkSetup(),e=[];for(let a=0;a<t.size();a+=1)e.push(t.get(a));return e}_setupStateMachineListeners(){if(o&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let t=this.getStateMachineListeners();t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){o&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(t){return this._dotLottieCore?.loadStateMachineData(t)??!1}animationSize(){let t=this._dotLottieCore?.animationSize().get(0)??0,e=this._dotLottieCore?.animationSize().get(1)??0;return{width:t,height:e}}setStateMachineBooleanContext(t,e){return this._dotLottieCore?.setStateMachineBooleanContext(t,e)??!1}setStateMachineNumericContext(t,e){return this._dotLottieCore?.setStateMachineNumericContext(t,e)??!1}setStateMachineStringContext(t,e){return this._dotLottieCore?.setStateMachineStringContext(t,e)??!1}};a(_,"_wasmModule",null);var y=_;var w='/**\n * This is a worker script for dotlottie.\n * Do not modify this file directly.\n * As it\'s generated by the build process.\n */\n    \nvar Pn=Object.defineProperty;var An=(s,n,a)=>n in s?Pn(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var I=(s,n,a)=>An(s,typeof n!="symbol"?n+"":n,a);var Ke=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n);}},Xe=class{constructor(){I(this,"_lastHandleId",0);I(this,"_lastImmediate",null);}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now());}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate);}},Ie=class{constructor(){I(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Ke:new Xe;}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n);}};var te=typeof window<"u"&&typeof window.document<"u";var me={name:"@lottiefiles/dotlottie-web",version:"0.29.1",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.14.11","@vitest/browser":"^2.0.3","@vitest/coverage-istanbul":"^2.0.3","cross-env":"7.0.3",playwright:"^1.45.2",tsup:"8.1.0",typescript:"5.0.4",vitest:"^2.0.3"},publishConfig:{access:"public"}};var Sn=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var a=n,d,w,T=new Promise((e,t)=>{d=e,w=t;}),W=Object.assign({},a),Y="./this.program",j="";typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),s&&(j=s),j.startsWith("blob:")?j="":j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1);var Wt=a.print||console.log.bind(console),Q=a.printErr||console.error.bind(console);Object.assign(a,W),W=null,a.thisProgram&&(Y=a.thisProgram);var ne;a.wasmBinary&&(ne=a.wasmBinary);var ve,tt=!1,G,b,Z,re,A,L,nt,rt;function at(){var e=ve.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=Z=new Int16Array(e),a.HEAPU8=b=new Uint8Array(e),a.HEAPU16=re=new Uint16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU32=L=new Uint32Array(e),a.HEAPF32=nt=new Float32Array(e),a.HEAPF64=rt=new Float64Array(e);}var ot=[],it=[],st=[];function jt(){var e=a.preRun.shift();ot.unshift(e);}var N=0,ae=null;function ye(e){throw a.onAbort?.(e),e="Aborted("+e+")",Q(e),tt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),w(e),e}var lt=e=>e.startsWith("data:application/octet-stream;base64,"),q;if(q="DotLottiePlayer.wasm",!lt(q)){var dt=q;q=a.locateFile?a.locateFile(dt,j):j+dt;}function ct(e){if(e==q&&ne)return new Uint8Array(ne);throw "both async and sync fetching of the wasm failed"}function Bt(e){return ne||typeof fetch!="function"?Promise.resolve().then(()=>ct(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw `failed to load wasm binary file at \'${e}\'`;return t.arrayBuffer()}).catch(()=>ct(e))}function ut(e,t,r){return Bt(e).then(o=>WebAssembly.instantiate(o,t)).then(r,o=>{Q(`failed to asynchronously prepare wasm: ${o}`),ye(o);})}function Ut(e,t){var r=q;return ne||typeof WebAssembly.instantiateStreaming!="function"||lt(r)||typeof fetch!="function"?ut(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),ut(r,e,t)}))}var Ae=e=>{for(;0<e.length;)e.shift()(a);},ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,J=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ht)return ht.decode(e.subarray(t,r));for(o="";t<r;){var i=e[t++];if(i&128){var l=e[t++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|l);else {var h=e[t++]&63;i=(i&240)==224?(i&15)<<12|l<<6|h:(i&7)<<18|l<<12|h<<6|e[t++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023));}}else o+=String.fromCharCode(i);}return o};class Ht{constructor(t){this.ya=t-24;}}var pt=0,mt=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3;}return t},ft=(e,t,r,o)=>{if(0<o){o=r+o-1;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(127>=l){if(r>=o)break;t[r++]=l;}else {if(2047>=l){if(r+1>=o)break;t[r++]=192|l>>6;}else {if(65535>=l){if(r+2>=o)break;t[r++]=224|l>>12;}else {if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63;}t[r++]=128|l>>6&63;}t[r++]=128|l&63;}}t[r]=0;}},ge={},Te=e=>{for(;e.length;){var t=e.pop();e.pop()(t);}};function oe(e){return this.fromWireType(L[e>>2])}var ee={},K={},we={},ie,H=(e,t,r)=>{function o(u){if(u=r(u),u.length!==e.length)throw new ie("Mismatched type converter count");for(var m=0;m<e.length;++m)k(e[m],u[m]);}e.forEach(function(u){we[u]=t;});var i=Array(t.length),l=[],h=0;t.forEach((u,m)=>{K.hasOwnProperty(u)?i[m]=K[u]:(l.push(u),ee.hasOwnProperty(u)||(ee[u]=[]),ee[u].push(()=>{i[m]=K[u],++h,h===l.length&&o(i);}));}),l.length===0&&o(i);},vt,P=e=>{for(var t="";b[e];)t+=vt[b[e++]];return t},g;function Yt(e,t,r={}){var o=t.name;if(!e)throw new g(`type "${o}" must have a positive integer typeid pointer`);if(K.hasOwnProperty(e)){if(r.ib)return;throw new g(`Cannot register type \'${o}\' twice`)}K[e]=t,delete we[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach(i=>i()));}function k(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yt(e,t,r)}var Se=e=>{throw new g(e.ma.za.xa.name+" instance already deleted")},Re=!1,yt=()=>{},gt=(e,t,r)=>t===r?e:r.Ca===void 0?null:(e=gt(e,t,r.Ca),e===null?null:r.ab(e)),wt={},se=[],$e=()=>{for(;se.length;){var e=se.pop();e.ma.Ka=!1,e.delete();}},le,de={},Gt=(e,t)=>{if(t===void 0)throw new g("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return de[t]},_e=(e,t)=>{if(!t.za||!t.ya)throw new ie("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ie("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ce(Object.create(e,{ma:{value:t,writable:!0}}))},ce=e=>typeof FinalizationRegistry>"u"?(ce=t=>t,e):(Re=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya));}),ce=t=>{var r=t.ma;return r.Aa&&Re.register(t,{ma:r},t),t},yt=t=>{Re.unregister(t);},ce(e));function Ee(){}var ue=(e,t)=>Object.defineProperty(t,"name",{value:e}),_t=(e,t,r)=>{if(e[t].Ba===void 0){var o=e[t];e[t]=function(...i){if(!e[t].Ba.hasOwnProperty(i.length))throw new g(`Function \'${r}\' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[i.length].apply(this,i)},e[t].Ba=[],e[t].Ba[o.Oa]=o;}},ke=(e,t,r)=>{if(a.hasOwnProperty(e)){if(r===void 0||a[e].Ba!==void 0&&a[e].Ba[r]!==void 0)throw new g(`Cannot register public name \'${e}\' twice`);if(_t(a,e,e),a.hasOwnProperty(r))throw new g(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);a[e].Ba[r]=t;}else a[e]=t,r!==void 0&&(a[e].vb=r);},Nt=e=>{if(e===void 0)return "_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function Jt(e,t,r,o,i,l,h,u){this.name=e,this.constructor=t,this.La=r,this.Fa=o,this.Ca=i,this.cb=l,this.Na=h,this.ab=u,this.kb=[];}var De=(e,t,r)=>{for(;t!==r;){if(!t.Na)throw new g(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca;}return e};function Kt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function Xt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);if(this.Qa){var r=this.Ua();return e!==null&&e.push(this.Fa,r),r}return 0}if(!t||!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(r=De(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new g("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)r=t.ma.Aa;else throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:r=t.ma.Aa;break;case 2:if(t.ma.Da===this)r=t.ma.Aa;else {var o=t.clone();r=this.lb(r,Me(()=>o.delete())),e!==null&&e.push(this.Fa,r);}break;default:throw new g("Unsupporting sharing policy")}}return r}function Qt(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${He(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return De(t.ma.ya,t.ma.za.xa,this.xa)}function he(e,t,r,o,i,l,h,u,m,p,f){this.name=e,this.xa=t,this.Ta=r,this.Pa=o,this.Qa=i,this.jb=l,this.pb=h,this.Za=u,this.Ua=m,this.lb=p,this.Fa=f,i||t.Ca!==void 0?this.toWireType=Xt:(this.toWireType=o?Kt:Qt,this.Ea=null);}var Et=(e,t,r)=>{if(!a.hasOwnProperty(e))throw new ie("Replacing nonexistent public symbol");a[e].Ba!==void 0&&r!==void 0?a[e].Ba[r]=t:(a[e]=t,a[e].Oa=r);},$,Zt=(e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0, a["dynCall_"+e])(t,...r)):t=$.get(t)(...r),t),qt=(e,t)=>(...r)=>Zt(e,t,r),S=(e,t)=>{e=P(e);var r=e.includes("j")?qt(e,t):$.get(t);if(typeof r!="function")throw new g(`unknown function pointer with signature ${e}: ${t}`);return r},Ct,Mt=e=>{e=St(e);var t=P(e);return U(e),t},Ce=(e,t)=>{function r(l){i[l]||K[l]||(we[l]?we[l].forEach(r):(o.push(l),i[l]=!0));}var o=[],i={};throw t.forEach(r),new Ct(`${e}: `+o.map(Mt).join([", "]))},ze=(e,t)=>{for(var r=[],o=0;o<e;o++)r.push(L[t+4*o>>2]);return r};function en(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return !0;return !1}function Oe(e,t,r,o,i){var l=t.length;if(2>l)throw new g("argTypes array size mismatch! Must at least get return value and \'this\' types!");var h=t[1]!==null&&r!==null,u=en(t),m=t[0].name!=="void",p=l-2,f=Array(p),_=[],C=[];return ue(e,function(...c){if(c.length!==p)throw new g(`function ${e} called with ${c.length} arguments, expected ${p}`);if(C.length=0,_.length=h?2:1,_[0]=i,h){var v=t[1].toWireType(C,this);_[1]=v;}for(var y=0;y<p;++y)f[y]=t[y+2].toWireType(C,c[y]),_.push(f[y]);if(c=o(..._),u)Te(C);else for(y=h?1:2;y<t.length;y++){var x=y===1?v:f[y-2];t[y].Ea!==null&&t[y].Ea(x);}return v=m?t[0].fromWireType(c):void 0,v})}var Lt=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},We=[],B=[],je=e=>{9<e&&--B[e+1]===0&&(B[e]=void 0,We.push(e));},Be=e=>{if(!e)throw new g("Cannot use deleted val. handle = "+e);return B[e]},Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=We.pop()||B.length;return B[t]=e,B[t+1]=1,t}},bt={name:"emscripten::val",fromWireType:e=>{var t=Be(e);return je(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:oe,Ea:null},tn=(e,t,r)=>{switch(t){case 1:return r?function(o){return this.fromWireType(G[o])}:function(o){return this.fromWireType(b[o])};case 2:return r?function(o){return this.fromWireType(Z[o>>1])}:function(o){return this.fromWireType(re[o>>1])};case 4:return r?function(o){return this.fromWireType(A[o>>2])}:function(o){return this.fromWireType(L[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=(e,t)=>{var r=K[e];if(r===void 0)throw e=`${t} has unknown type ${Mt(e)}`,new g(e);return r},He=e=>{if(e===null)return "null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},nn=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(nt[r>>2])};case 8:return function(r){return this.fromWireType(rt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rn=(e,t,r)=>{switch(t){case 1:return r?o=>G[o]:o=>b[o];case 2:return r?o=>Z[o>>1]:o=>re[o>>1];case 4:return r?o=>A[o>>2]:o=>L[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ft=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,an=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&re[r];)++r;if(r<<=1,32<r-e&&Ft)return Ft.decode(b.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var i=Z[e+2*o>>1];if(i==0)break;r+=String.fromCharCode(i);}return r},on=(e,t,r)=>{if(r??(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var i=0;i<r;++i)Z[t>>1]=e.charCodeAt(i),t+=2;return Z[t>>1]=0,t-o},sn=e=>2*e.length,ln=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var i=A[e+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i);}return o},dn=(e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(A[t>>2]=l,t+=4,t+4>r)break}return A[t>>2]=0,t-o},cn=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4;}return t},Ve=[],un=e=>{var t=Ve.length;return Ve.push(e),t},hn=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=Ue(L[t+4*o>>2],"parameter "+o);return r},pn=Reflect.construct,Ye={},It=()=>{if(!Ge){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Y||"./this.program"},t;for(t in Ye)Ye[t]===void 0?delete e[t]:e[t]=Ye[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Ge=r;}return Ge},Ge,mn=[null,[],[]],fn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ye("initRandomDevice");},xt=e=>(xt=fn())(e),Le=e=>e%4===0&&(e%100!==0||e%400===0),Pt=[31,29,31,30,31,30,31,31,30,31,30,31],At=[31,28,31,30,31,30,31,31,30,31,30,31];function vn(e){var t=Array(mt(e)+1);return ft(e,t,0,t.length),t}var yn=(e,t,r,o)=>{function i(c,v,y){for(c=typeof c=="number"?c.toString():c||"";c.length<v;)c=y[0]+c;return c}function l(c,v){return i(c,v,"0")}function h(c,v){function y(V){return 0>V?-1:0<V?1:0}var x;return (x=y(c.getFullYear()-v.getFullYear()))===0&&(x=y(c.getMonth()-v.getMonth()))===0&&(x=y(c.getDate()-v.getDate())),x}function u(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function m(c){var v=c.Ia;for(c=new Date(new Date(c.Ja+1900,0,1).getTime());0<v;){var y=c.getMonth(),x=(Le(c.getFullYear())?Pt:At)[y];if(v>x-c.getDate())v-=x-c.getDate()+1,c.setDate(1),11>y?c.setMonth(y+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else {c.setDate(c.getDate()+v);break}}return y=new Date(c.getFullYear()+1,0,4),v=u(new Date(c.getFullYear(),0,4)),y=u(y),0>=h(v,c)?0>=h(y,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}var p=L[o+40>>2];o={sb:A[o>>2],rb:A[o+4>>2],Ra:A[o+8>>2],Va:A[o+12>>2],Sa:A[o+16>>2],Ja:A[o+20>>2],Ga:A[o+24>>2],Ia:A[o+28>>2],wb:A[o+32>>2],qb:A[o+36>>2],tb:p&&p?J(b,p):""},r=r?J(b,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in p)r=r.replace(new RegExp(f,"g"),p[f]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="January February March April May June July August September October November December".split(" ");p={"%a":c=>_[c.Ga].substring(0,3),"%A":c=>_[c.Ga],"%b":c=>C[c.Sa].substring(0,3),"%B":c=>C[c.Sa],"%C":c=>l((c.Ja+1900)/100|0,2),"%d":c=>l(c.Va,2),"%e":c=>i(c.Va,2," "),"%g":c=>m(c).toString().substring(2),"%G":m,"%H":c=>l(c.Ra,2),"%I":c=>(c=c.Ra,c==0?c=12:12<c&&(c-=12),l(c,2)),"%j":c=>{for(var v=0,y=0;y<=c.Sa-1;v+=(Le(c.Ja+1900)?Pt:At)[y++]);return l(c.Va+v,3)},"%m":c=>l(c.Sa+1,2),"%M":c=>l(c.rb,2),"%n":()=>`\n`,"%p":c=>0<=c.Ra&&12>c.Ra?"AM":"PM","%S":c=>l(c.sb,2),"%t":()=>"\t","%u":c=>c.Ga||7,"%U":c=>l(Math.floor((c.Ia+7-c.Ga)/7),2),"%V":c=>{var v=Math.floor((c.Ia+7-(c.Ga+6)%7)/7);if(2>=(c.Ga+371-c.Ia-2)%7&&v++,v)v==53&&(y=(c.Ga+371-c.Ia)%7,y==4||y==3&&Le(c.Ja)||(v=1));else {v=52;var y=(c.Ga+7-c.Ia-1)%7;(y==4||y==5&&Le(c.Ja%400-1))&&v++;}return l(v,2)},"%w":c=>c.Ga,"%W":c=>l(Math.floor((c.Ia+7-(c.Ga+6)%7)/7),2),"%y":c=>(c.Ja+1900).toString().substring(2),"%Y":c=>c.Ja+1900,"%z":c=>{c=c.qb;var v=0<=c;return c=Math.abs(c)/60,(v?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.tb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0");for(f in p)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),p[f](o)));return r=r.replace(/\\0\\0/g,"%"),f=vn(r),f.length>t?0:(G.set(f,e),f.length-1)};ie=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError";}};for(var Tt=Array(256),be=0;256>be;++be)Tt[be]=String.fromCharCode(be);vt=Tt,g=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError";}},Object.assign(Ee.prototype,{isAliasOf:function(e){if(!(this instanceof Ee&&e instanceof Ee))return !1;var t=this.ma.za.xa,r=this.ma.ya;e.ma=e.ma;var o=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)r=t.Na(r),t=t.Ca;for(;o.Ca;)e=o.Na(e),o=o.Ca;return t===o&&r===e},clone:function(){if(this.ma.ya||Se(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ce,t=Object,r=t.create,o=Object.getPrototypeOf(this),i=this.ma;return e=e(r.call(t,o,{ma:{value:{count:i.count,Ka:i.Ka,Ma:i.Ma,ya:i.ya,za:i.za,Aa:i.Aa,Da:i.Da}}})),e.ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");yt(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0);},isDeleted:function(){return !this.ma.ya},deleteLater:function(){if(this.ma.ya||Se(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");return se.push(this),se.length===1&&le&&le($e),this.ma.Ka=!0,this}}),a.getInheritedInstanceCount=()=>Object.keys(de).length,a.getLiveInheritedInstances=()=>{var e=[],t;for(t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},a.flushPendingDeletes=$e,a.setDelayFunction=e=>{le=e,se.length&&le&&le($e);},Object.assign(he.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e);},argPackAdvance:8,readValueFromPointer:oe,fromWireType:function(e){function t(){return this.Qa?_e(this.xa.La,{za:this.jb,ya:r,Da:this,Aa:e}):_e(this.xa.La,{za:this,ya:e})}var r=this.eb(e);if(!r)return this.Xa(e),null;var o=Gt(this.xa,r);if(o!==void 0)return o.ma.count.value===0?(o.ma.ya=r,o.ma.Aa=e,o.clone()):(o=o.clone(),this.Xa(e),o);if(o=this.xa.cb(r),o=wt[o],!o)return t.call(this);o=this.Pa?o.$a:o.pointerType;var i=gt(r,this.xa,o.xa);return i===null?t.call(this):this.Qa?_e(o.xa.La,{za:o,ya:i,Da:this,Aa:e}):_e(o.xa.La,{za:o,ya:i})}}),Ct=a.UnboundTypeError=((e,t)=>{var r=ue(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`\n`+o.replace(/^Error(:[^\\n]*)?\\n/,""));});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),B.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=()=>B.length/2-5-We.length;var gn={c:(e,t,r,o)=>{ye(`Assertion failed: ${e?J(b,e):""}, at: `+[t?t?J(b,t):"":"unknown filename",r,o?o?J(b,o):"":"unknown function"]);},m:(e,t,r)=>{var o=new Ht(e);throw L[o.ya+16>>2]=0,L[o.ya+4>>2]=t,L[o.ya+8>>2]=r,pt=e,pt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=ge[e];delete ge[e];var r=t.Ua,o=t.Fa,i=t.Ya,l=i.map(h=>h.hb).concat(i.map(h=>h.nb));H([e],l,h=>{var u={};return i.forEach((m,p)=>{var f=h[p],_=m.fb,C=m.gb,c=h[p+i.length],v=m.mb,y=m.ob;u[m.bb]={read:x=>f.fromWireType(_(C,x)),write:(x,V)=>{var R=[];v(y,x,c.toWireType(R,V)),Te(R);}};}),[{name:t.name,fromWireType:m=>{var p={},f;for(f in u)p[f]=u[f].read(m);return o(m),p},toWireType:(m,p)=>{for(var f in u)if(!(f in p))throw new TypeError(`Missing field: "${f}"`);var _=r();for(f in u)u[f].write(_,p[f]);return m!==null&&m.push(o,_),_},argPackAdvance:8,readValueFromPointer:oe,Ea:o}]});},I:()=>{},Y:(e,t,r,o)=>{t=P(t),k(e,{name:t,fromWireType:function(i){return !!i},toWireType:function(i,l){return l?r:o},argPackAdvance:8,readValueFromPointer:function(i){return this.fromWireType(b[i])},Ea:null});},r:(e,t,r,o,i,l,h,u,m,p,f,_,C)=>{f=P(f),l=S(i,l),u&&(u=S(h,u)),p&&(p=S(m,p)),C=S(_,C);var c=Nt(f);ke(c,function(){Ce(`Cannot construct ${f} due to unbound types`,[o]);}),H([e,t,r],o?[o]:[],v=>{if(v=v[0],o)var y=v.xa,x=y.La;else x=Ee.prototype;v=ue(f,function(...Je){if(Object.getPrototypeOf(this)!==V)throw new g("Use \'new\' to construct "+f);if(R.Ha===void 0)throw new g(f+" has no accessible constructor");var kt=R.Ha[Je.length];if(kt===void 0)throw new g(`Tried to invoke ctor of ${f} with invalid number of parameters (${Je.length}) - expected (${Object.keys(R.Ha).toString()}) parameters instead!`);return kt.apply(this,Je)});var V=Object.create(x,{constructor:{value:v}});v.prototype=V;var R=new Jt(f,v,V,C,y,l,u,p);if(R.Ca){var pe;(pe=R.Ca).Wa??(pe.Wa=[]),R.Ca.Wa.push(R);}return y=new he(f,R,!0,!1,!1),pe=new he(f+"*",R,!1,!1,!1),x=new he(f+" const*",R,!1,!0,!1),wt[e]={pointerType:pe,$a:x},Et(c,v),[y,pe,x]});},q:(e,t,r,o,i,l)=>{var h=ze(t,r);i=S(o,i),H([],[e],u=>{u=u[0];var m=`constructor ${u.name}`;if(u.xa.Ha===void 0&&(u.xa.Ha=[]),u.xa.Ha[t-1]!==void 0)throw new g(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class \'${u.name}\'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return u.xa.Ha[t-1]=()=>{Ce(`Cannot construct ${u.name} due to unbound types`,h);},H([],h,p=>(p.splice(1,0,null),u.xa.Ha[t-1]=Oe(m,p,null,i,l),[])),[]});},f:(e,t,r,o,i,l,h,u)=>{var m=ze(r,o);t=P(t),t=Lt(t),l=S(i,l),H([],[e],p=>{function f(){Ce(`Cannot call ${_} due to unbound types`,m);}p=p[0];var _=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&p.xa.kb.push(t);var C=p.xa.La,c=C[t];return c===void 0||c.Ba===void 0&&c.className!==p.name&&c.Oa===r-2?(f.Oa=r-2,f.className=p.name,C[t]=f):(_t(C,t,_),C[t].Ba[r-2]=f),H([],m,v=>(v=Oe(_,v,p,l,h),C[t].Ba===void 0?(v.Oa=r-2,C[t]=v):C[t].Ba[r-2]=v,[])),[]});},X:e=>k(e,bt),x:(e,t,r,o)=>{function i(){}t=P(t),i.values={},k(e,{name:t,constructor:i,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,h)=>h.value,argPackAdvance:8,readValueFromPointer:tn(t,r,o),Ea:null}),ke(t,i);},k:(e,t,r)=>{var o=Ue(e,"enum");t=P(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:ue(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o;},C:(e,t,r)=>{t=P(t),k(e,{name:t,fromWireType:o=>o,toWireType:(o,i)=>i,argPackAdvance:8,readValueFromPointer:nn(t,r),Ea:null});},E:(e,t,r,o,i,l)=>{var h=ze(t,r);e=P(e),e=Lt(e),i=S(o,i),ke(e,function(){Ce(`Cannot call ${e} due to unbound types`,h);},t-1),H([],h,u=>(Et(e,Oe(e,[u[0],null].concat(u.slice(1)),null,i,l),t-1),[]));},l:(e,t,r,o,i)=>{if(t=P(t),i===-1&&(i=4294967295),i=u=>u,o===0){var l=32-8*r;i=u=>u<<l>>>l;}var h=t.includes("unsigned")?function(u,m){return m>>>0}:function(u,m){return m};k(e,{name:t,fromWireType:i,toWireType:h,argPackAdvance:8,readValueFromPointer:rn(t,r,o!==0),Ea:null});},g:(e,t,r)=>{function o(l){return new i(G.buffer,L[l+4>>2],L[l>>2])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=P(r),k(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ib:!0});},w:e=>{k(e,bt);},ca:(e,t,r,o,i,l,h,u,m,p,f,_)=>{r=P(r),l=S(i,l),u=S(h,u),p=S(m,p),_=S(f,_),H([e],[t],C=>(C=C[0],[new he(r,C.xa,!1,!1,!0,C,o,l,u,p,_)]));},D:(e,t)=>{t=P(t);var r=t==="std::string";k(e,{name:t,fromWireType:function(o){var i=L[o>>2],l=o+4;if(r)for(var h=l,u=0;u<=i;++u){var m=l+u;if(u==i||b[m]==0){if(h=h?J(b,h,m-h):"",p===void 0)var p=h;else p+="\\0",p+=h;h=m+1;}}else {for(p=Array(i),u=0;u<i;++u)p[u]=String.fromCharCode(b[l+u]);p=p.join("");}return U(o),p},toWireType:function(o,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l=typeof i=="string";if(!(l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new g("Cannot pass non-string to std::string");var h=r&&l?mt(i):i.length,u=Ne(4+h+1),m=u+4;if(L[u>>2]=h,r&&l)ft(i,b,m,h+1);else if(l)for(l=0;l<h;++l){var p=i.charCodeAt(l);if(255<p)throw U(m),new g("String has UTF-16 code units that do not fit in 8 bits");b[m+l]=p;}else for(l=0;l<h;++l)b[m+l]=i[l];return o!==null&&o.push(U,u),u},argPackAdvance:8,readValueFromPointer:oe,Ea(o){U(o);}});},u:(e,t,r)=>{if(r=P(r),t===2)var o=an,i=on,l=sn,h=u=>re[u>>1];else t===4&&(o=ln,i=dn,l=cn,h=u=>L[u>>2]);k(e,{name:r,fromWireType:u=>{for(var m=L[u>>2],p,f=u+4,_=0;_<=m;++_){var C=u+4+_*t;(_==m||h(C)==0)&&(f=o(f,C-f),p===void 0?p=f:(p+="\\0",p+=f),f=C+t);}return U(u),p},toWireType:(u,m)=>{if(typeof m!="string")throw new g(`Cannot pass non-string to C++ string type ${r}`);var p=l(m),f=Ne(4+p+t);return L[f>>2]=p/t,i(m,f+4,p+t),u!==null&&u.push(U,f),f},argPackAdvance:8,readValueFromPointer:oe,Ea(u){U(u);}});},s:(e,t,r,o,i,l)=>{ge[e]={name:P(t),Ua:S(r,o),Fa:S(i,l),Ya:[]};},j:(e,t,r,o,i,l,h,u,m,p)=>{ge[e].Ya.push({bb:P(t),hb:r,fb:S(o,i),gb:l,nb:h,mb:S(u,m),ob:p});},Z:(e,t)=>{t=P(t),k(e,{ub:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}});},J:()=>{throw 1/0},aa:(e,t,r,o)=>(e=Ve[e],t=Be(t),e(null,t,r,o)),F:je,$:(e,t,r)=>{var o=hn(e,t),i=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(h=>h.name).join(", ")}) => ${i.name}>`,un(ue(t,(h,u,m,p)=>{for(var f=0,_=0;_<e;++_)l[_]=o[_].readValueFromPointer(p+f),f+=o[_].argPackAdvance;return u=r===1?pn(u,l):u.apply(h,l),h=[],u=i.toWireType(h,u),h.length&&(L[m>>2]=Me(h)),u}))},ba:e=>{9<e&&(B[e+1]+=1);},_:e=>{var t=Be(e);Te(t),je(e);},o:(e,t)=>(e=Ue(e,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)),W:()=>{ye("");},V:()=>performance.now(),L:e=>{var t=b.length;if(e>>>=0,2147483648<e)return !1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(i),at();var l=1;break e}catch{}l=void 0;}if(l)return !0}return !1},S:(e,t)=>{var r=0;return It().forEach((o,i)=>{var l=t+r;for(i=L[e+4*i>>2]=l,l=0;l<o.length;++l)G[i++]=o.charCodeAt(l);G[i]=0,r+=o.length+1;}),0},T:(e,t)=>{var r=It();L[e>>2]=r.length;var o=0;return r.forEach(i=>o+=i.length+1),L[t>>2]=o,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,r,o)=>{for(var i=0,l=0;l<r;l++){var h=L[t>>2],u=L[t+4>>2];t+=8;for(var m=0;m<u;m++){var p=b[h+m],f=mn[e];p===0||p===10?((e===1?Wt:Q)(J(f,0)),f.length=0):f.push(p);}i+=u;}return L[o>>2]=i,0},U:(e,t)=>(xt(b.subarray(e,e+t)),0),i:Mn,d:Cn,e:En,p:Ln,y:In,b:wn,a:_n,h:Fn,n:bn,G:xn,K:(e,t,r,o)=>yn(e,t,r,o)},F=function(){function e(r){return F=r.exports,ve=F.da,at(),$=F.ha,it.unshift(F.ea),N--,a.monitorRunDependencies?.(N),N==0&&(ae&&(r=ae,ae=null,r())),F}var t={a:gn};if(N++,a.monitorRunDependencies?.(N),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),w(r);}return Ut(t,function(r){e(r.instance);}).catch(w),{}}(),Ne=e=>(Ne=F.fa)(e),St=e=>(St=F.ga)(e),U=e=>(U=F.ia)(e),D=(e,t)=>(D=F.ja)(e,t),z=e=>(z=F.ka)(e),O=()=>(O=F.la)();a.dynCall_iijj=(e,t,r,o,i,l)=>(a.dynCall_iijj=F.na)(e,t,r,o,i,l),a.dynCall_vijj=(e,t,r,o,i,l)=>(a.dynCall_vijj=F.oa)(e,t,r,o,i,l),a.dynCall_jiii=(e,t,r,o)=>(a.dynCall_jiii=F.pa)(e,t,r,o),a.dynCall_jii=(e,t,r)=>(a.dynCall_jii=F.qa)(e,t,r);var Rt=a.dynCall_viiij=(e,t,r,o,i,l)=>(Rt=a.dynCall_viiij=F.ra)(e,t,r,o,i,l);a.dynCall_jiji=(e,t,r,o,i)=>(a.dynCall_jiji=F.sa)(e,t,r,o,i),a.dynCall_viijii=(e,t,r,o,i,l,h)=>(a.dynCall_viijii=F.ta)(e,t,r,o,i,l,h),a.dynCall_iiiiij=(e,t,r,o,i,l,h)=>(a.dynCall_iiiiij=F.ua)(e,t,r,o,i,l,h),a.dynCall_iiiiijj=(e,t,r,o,i,l,h,u,m)=>(a.dynCall_iiiiijj=F.va)(e,t,r,o,i,l,h,u,m),a.dynCall_iiiiiijj=(e,t,r,o,i,l,h,u,m,p)=>(a.dynCall_iiiiiijj=F.wa)(e,t,r,o,i,l,h,u,m,p);function wn(e,t){var r=O();try{$.get(e)(t);}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function _n(e,t,r){var o=O();try{$.get(e)(t,r);}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function En(e,t,r,o){var i=O();try{return $.get(e)(t,r,o)}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function Cn(e,t,r){var o=O();try{return $.get(e)(t,r)}catch(i){if(z(o),i!==i+0)throw i;D(1,0);}}function Mn(e,t){var r=O();try{return $.get(e)(t)}catch(o){if(z(r),o!==o+0)throw o;D(1,0);}}function Ln(e,t,r,o,i,l){var h=O();try{return $.get(e)(t,r,o,i,l)}catch(u){if(z(h),u!==u+0)throw u;D(1,0);}}function bn(e,t,r,o,i){var l=O();try{$.get(e)(t,r,o,i);}catch(h){if(z(l),h!==h+0)throw h;D(1,0);}}function Fn(e,t,r,o){var i=O();try{$.get(e)(t,r,o);}catch(l){if(z(i),l!==l+0)throw l;D(1,0);}}function In(e){var t=O();try{$.get(e)();}catch(r){if(z(t),r!==r+0)throw r;D(1,0);}}function xn(e,t,r,o,i,l){var h=O();try{Rt(e,t,r,o,i,l);}catch(u){if(z(h),u!==u+0)throw u;D(1,0);}}var Fe;ae=function e(){Fe||$t(),Fe||(ae=e);};function $t(){function e(){if(!Fe&&(Fe=!0,a.calledRun=!0,!tt)){if(Ae(it),d(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();st.unshift(t);}Ae(st);}}if(!(0<N)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)jt();Ae(ot),0<N||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("");},1),e();},1)):e());}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return $t(),T}})(),Dt=Sn;var X=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await Dt({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let a=`https://unpkg.com/${me.name}@${me.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${a}`);try{return await this._tryLoad(a)}catch(d){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${d.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null;}};I(X,"_ModulePromise",null),I(X,"_wasmURL",`https://cdn.jsdelivr.net/npm/${me.name}@${me.version}/dist/dotlottie-player.wasm`);var xe=class{constructor(){I(this,"_eventListeners",new Map);}addEventListener(n,a){let d=this._eventListeners.get(n);d||(d=new Set,this._eventListeners.set(n,d)),d.add(a);}removeEventListener(n,a){let d=this._eventListeners.get(n);d&&(a?(d.delete(a),d.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n));}dispatch(n){this._eventListeners.get(n.type)?.forEach(d=>d(n));}removeAllEventListeners(){this._eventListeners.clear();}};function Rn(s){return /^#([\\da-f]{6}|[\\da-f]{8})$/iu.test(s)}function zt(s){if(!Rn(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}var Qe=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,Ze=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,qe=(s,n)=>{let a=new n.VectorFloat;return a.push_back(s[0]),a.push_back(s[1]),a},et=(s,n)=>{let a=new n.VectorFloat;return s.length!==2||(a.push_back(s[0]),a.push_back(s[1])),a},M=class M{constructor(n){I(this,"_canvas");I(this,"_context",null);I(this,"_eventManager");I(this,"_animationFrameId",null);I(this,"_frameManager");I(this,"_dotLottieCore",null);I(this,"_renderConfig",{});I(this,"_isFrozen",!1);I(this,"_backgroundColor",null);this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new xe,this._frameManager=new Ie,this._renderConfig=n.renderConfig??{},X.load().then(a=>{M._wasmModule=a,this._dotLottieCore=new a.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",a),segment:et(n.segment??[],a),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,a),fit:Ze(n.layout.fit,a)}:a.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor);}).catch(a=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${a}`)});});}_loadFromSrc(n){async function a(){let d=await fetch(n);if(!d.ok)throw new Error(`Failed to fetch the animation data from URL: ${n}. ${d.status}: ${d.statusText}`);let w=(d.headers.get("content-type")??"").trim(),T;return ["application/json","text/plain"].some(W=>w.startsWith(W))?T=await d.text():T=await d.arrayBuffer(),T}a().then(d=>{this._loadFromData(d);}).catch(d=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load animation data from URL: ${n}. ${d}`)});});}_loadFromData(n){if(this._dotLottieCore===null)return;let a=this._canvas.width,d=this._canvas.height,w=!1;if(typeof n=="string")w=this._dotLottieCore.loadAnimationData(n,a,d);else if(n instanceof ArrayBuffer)w=this._dotLottieCore.loadDotLottieData(n,a,d);else if(typeof n=="object")w=this._dotLottieCore.loadAnimationData(JSON.stringify(n),a,d);else {this._eventManager.dispatch({type:"loadError",error:new Error("Unsupported data type for animation data. Expected a string or ArrayBuffer.")});return}w?(this._eventManager.dispatch({type:"load"}),te&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._eventManager.dispatch({type:"loadError",error:new Error("Failed to load animation data")});}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return {align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case M._wasmModule?.Fit.Contain:return "contain";case M._wasmModule?.Fit.Cover:return "cover";case M._wasmModule?.Fit.Fill:return "fill";case M._wasmModule?.Fit.FitHeight:return "fit-height";case M._wasmModule?.Fit.FitWidth:return "fit-width";case M._wasmModule?.Fit.None:return "none";default:return "contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let a=JSON.parse(n);return Object.keys(a).length===0?null:a}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return [n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===M._wasmModule?.Mode.Reverse?"reverse":n===M._wasmModule?.Mode.Bounce?"bounce":n===M._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||M._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:Qe(n.mode??"forward",M._wasmModule),segment:et(n.segment??[],M._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:qe(n.layout.align,M._wasmModule),fit:Ze(n.layout.fit,M._wasmModule)}:M._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""));}_render(){if(this._dotLottieCore===null||this._context===null)return !1;if(this._dotLottieCore.render()){let a=this._dotLottieCore.buffer(),d=new Uint8ClampedArray(a,0,this._canvas.width*this._canvas.height*4),w=null;return typeof ImageData>"u"?(w=this._context.createImageData(this._canvas.width,this._canvas.height),w.data.set(d)):w=new ImageData(d,this._canvas.width,this._canvas.height),this._context.putImageData(w,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return !1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this));}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)));}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"});}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}));}setFrame(n){if(this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render());}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:n});}setBackgroundColor(n){this._dotLottieCore!==null&&(te&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:zt(n)}),this._backgroundColor=n);}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:n});}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:n});}addEventListener(n,a){this._eventManager.addEventListener(n,a);}removeEventListener(n,a){this._eventManager.removeEventListener(n,a);}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners();}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}));}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}));}resize(){if(te&&this._canvas instanceof HTMLCanvasElement){let a=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:d,width:w}=this._canvas.getBoundingClientRect();this._canvas.width=w*a,this._canvas.height=d*a;}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render();}setSegment(n,a){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:et([n,a],M._wasmModule)});}setMode(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Qe(n,M._wasmModule)});}setRenderConfig(n){this._renderConfig=n;}loadAnimation(n){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n)return;this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)});}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:n});}markers(){let n=this._dotLottieCore?.markers();if(n){let a=[];for(let d=0;d<n.size();d+=1){let w=n.get(d);a.push({name:w.name,time:w.time,duration:w.duration});}return a}return []}loadTheme(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadTheme(n);return this._render(),a}loadThemeData(n){if(this._dotLottieCore===null)return !1;let a=this._dotLottieCore.loadThemeData(n);return this._render(),a}setLayout(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:qe(n.align,M._wasmModule),fit:Ze(n.fit,M._wasmModule)}});}setViewport(n,a,d,w){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,a,d,w)}static setWasmUrl(n){X.setWasmUrl(n);}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let a=this._canvas.getBoundingClientRect(),d=this._canvas.width/a.width,w=this._canvas.height/a.height,T=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,W=(n.clientX-a.left)*d/T,Y=(n.clientY-a.top)*w/T;return {x:W,y:Y}}_onPointerUp(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${a} ${d}`);}_onPointerDown(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${a} ${d}`);}_onPointerMove(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${a} ${d}`);}_onPointerEnter(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${a} ${d}`);}_onPointerLeave(n){let{x:a,y:d}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${a} ${d}`);}_onComplete(){this.postStateMachineEvent("OnComplete");}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return [];let n=this._dotLottieCore.stateMachineFrameworkSetup(),a=[];for(let d=0;d<n.size();d+=1)a.push(n.get(d));return a}_setupStateMachineListeners(){if(te&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this));}}_cleanupStateMachineListeners(){te&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)));}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,a=this._dotLottieCore?.animationSize().get(1)??0;return {width:n,height:a}}setStateMachineBooleanContext(n,a){return this._dotLottieCore?.setStateMachineBooleanContext(n,a)??!1}setStateMachineNumericContext(n,a){return this._dotLottieCore?.setStateMachineNumericContext(n,a)??!1}setStateMachineStringContext(n,a){return this._dotLottieCore?.setStateMachineStringContext(n,a)??!1}};I(M,"_wasmModule",null);var fe=M;var E=new Map,$n={ready:s=>n=>{let a={id:"",method:"onReady",result:{instanceId:s,event:n}};self.postMessage(a);},complete:s=>n=>{let a={id:"",method:"onComplete",result:{instanceId:s,event:n}};self.postMessage(a);},load:s=>n=>{let d={id:"",method:"onLoad",result:{instanceId:s,event:n}};self.postMessage(d);},loadError:s=>n=>{let d={id:"",method:"onLoadError",result:{instanceId:s,event:n}};self.postMessage(d);},loop:s=>n=>{let d={id:"",method:"onLoop",result:{instanceId:s,event:n}};self.postMessage(d);},play:s=>n=>{let d={id:"",method:"onPlay",result:{instanceId:s,event:n}};self.postMessage(d);},pause:s=>n=>{let d={id:"",method:"onPause",result:{instanceId:s,event:n}};self.postMessage(d);},stop:s=>n=>{let d={id:"",method:"onStop",result:{instanceId:s,event:n}};self.postMessage(d);},frame:s=>n=>{let d={id:"",method:"onFrame",result:{instanceId:s,event:n}};self.postMessage(d);},render:s=>n=>{let d={id:"",method:"onRender",result:{instanceId:s,event:n}};self.postMessage(d);},freeze:s=>n=>{let d={id:"",method:"onFreeze",result:{instanceId:s,event:n}};self.postMessage(d);},unfreeze:s=>n=>{let d={id:"",method:"onUnfreeze",result:{instanceId:s,event:n}};self.postMessage(d);},destroy:s=>n=>{let d={id:"",method:"onDestroy",result:{instanceId:s,event:n}};self.postMessage(d);}},Ot={getDotLottieInstanceState(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return {state:{isLoaded:a.isLoaded,isPaused:a.isPaused,isPlaying:a.isPlaying,isStopped:a.isStopped,isFrozen:a.isFrozen,loop:a.loop,mode:a.mode,speed:a.speed,currentFrame:a.currentFrame,totalFrames:a.totalFrames,duration:a.duration,useFrameInterpolation:a.useFrameInterpolation,renderConfig:a.renderConfig,marker:a.marker,backgroundColor:a.backgroundColor,markers:a.markers(),activeAnimationId:a.activeAnimationId,activeThemeId:a.activeThemeId,autoplay:a.autoplay,segment:a.segment,layout:a.layout,segmentDuration:a.segmentDuration,isReady:a.isReady,manifest:a.manifest}}},setLayout(s){let n=s.params.instanceId,a=s.params.layout,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLayout(a),{success:!0}},getStateMachineListeners(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.getStateMachineListeners()},postStateMachineEvent(s){let n=s.params.instanceId,a=s.params.event,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.postStateMachineEvent(a)},startStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.startStateMachine()},stopStateMachine(s){let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.stopStateMachine()},loadStateMachine(s){let n=s.params.instanceId,a=s.params.stateMachineId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadStateMachine(a)},loadStateMachineData(s){let n=s.params.instanceId,a=s.params.stateMachineData,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadStateMachineData(a)},create:s=>{let n=s.params.instanceId,a=s.params.config,d=s.params.width,w=s.params.height;if(E.has(n))throw new Error(`Instance with id ${n} already exists.`);let T=new fe(a);return T.canvas.height=w,T.canvas.width=d,E.set(n,T),["complete","frame","load","loadError","loop","pause","play","stop","destroy","freeze","unfreeze","render","ready"].forEach(Y=>{T.addEventListener(Y,$n[Y](n));}),{instanceId:n}},destroy:s=>{let n=s.params.instanceId,a=E.get(n);a&&(a.destroy(),E.delete(n));},freeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.freeze();},load:s=>{let n=s.params.instanceId,a=s.params.config,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.load(a);},loadAnimation:s=>{let n=s.params.instanceId,a=s.params.animationId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.loadAnimation(a);},loadTheme:s=>{let n=s.params.instanceId,a=s.params.themeId,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadTheme(a)},loadThemeData:s=>{let n=s.params.instanceId,a=s.params.themeData,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.loadThemeData(a)},pause:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.pause()},play:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);return a.play()},resize:s=>{let n=s.params.instanceId,a=s.params.width,d=s.params.height,w=E.get(n);if(!w)throw new Error(`Instance with id ${n} does not exist.`);return w.canvas.height=d,w.canvas.width=a,w.resize(),{success:!0}},setBackgroundColor:s=>{let n=s.params.instanceId,a=s.params.backgroundColor,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setBackgroundColor(a);},setFrame:s=>{let n=s.params.instanceId,a=s.params.frame,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setFrame(a);},setMode:s=>{let n=s.params.instanceId,a=s.params.mode,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setMode(a);},setRenderConfig:s=>{let n=s.params.instanceId,a=s.params.renderConfig,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setRenderConfig(a);},setSegment:s=>{let n=s.params.instanceId,a=s.params.segment,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSegment(a[0],a[1]);},setSpeed:s=>{let n=s.params.instanceId,a=s.params.speed,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setSpeed(a);},setUseFrameInterpolation:s=>{let n=s.params.instanceId,a=s.params.useFrameInterpolation,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);d.setUseFrameInterpolation(a);},setWasmUrl:s=>{fe.setWasmUrl(s.params.url);},stop:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.stop();},unfreeze:s=>{let n=s.params.instanceId,a=E.get(n);if(!a)throw new Error(`Instance with id ${n} does not exist.`);a.unfreeze();},setViewport(s){let n=s.params.instanceId,a=s.params.x,d=s.params.y,w=s.params.width,T=s.params.height,W=E.get(n);if(!W)throw new Error(`Instance with id ${n} does not exist.`);return W.setViewport(a,d,w,T)},setMarker(s){let n=s.params.instanceId,a=s.params.marker,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setMarker(a),{success:!0}},setLoop(s){let n=s.params.instanceId,a=s.params.loop,d=E.get(n);if(!d)throw new Error(`Instance with id ${n} does not exist.`);return d.setLoop(a),{success:!0}}};function kn(s){let n=s.method;if(typeof Ot[n]=="function")return Ot[n](s);throw new Error(`Method ${n} is not implemented in commands.`)}self.onmessage=s=>{try{let n=kn(s.data),a={id:s.data.id,method:s.data.method,result:n};self.postMessage(a);}catch(n){let a={id:s.data.id,method:s.data.method,error:n.message};self.postMessage(a);}};var Dn="",lr=Dn;\n\nexport { lr as default };\n';var C=class{constructor(){a(this,"_workers",new Map);a(this,"_animationWorkerMap",new Map)}_createWorker(t){let e=new Blob([w],{type:"application/javascript"});return new Worker(URL.createObjectURL(e),{type:"module",name:t})}getWorker(t){return this._workers.has(t)||this._workers.set(t,this._createWorker(t)),this._workers.get(t)}assignAnimationToWorker(t,e){this._animationWorkerMap.set(t,e)}unassignAnimationFromWorker(t){this._animationWorkerMap.delete(t)}sendMessage(t,e,a){this.getWorker(t).postMessage(e,a||[])}terminateWorker(t){let e=this._workers.get(t);e&&(e.terminate(),this._workers.delete(t))}};function L(t){if(t instanceof OffscreenCanvas)return{width:t.width,height:t.height};let{height:e,width:a}=t.getBoundingClientRect();return{width:a*window.devicePixelRatio,height:e*window.devicePixelRatio}}function M(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var b=class t{constructor(e){a(this,"_eventManager",new u);a(this,"_id");a(this,"_worker");a(this,"_canvas");a(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null});a(this,"_created",!1);this._canvas=e.canvas,this._id=`dotlottie-${M()}`;let n=e.workerId||"defaultWorker";this._worker=t._workerManager.getWorker(n),t._workerManager.assignAnimationToWorker(this._id,n),t._wasmUrl&&this._sendMessage("setWasmUrl",{url:t._wasmUrl}),this._create(e),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}async _handleWorkerEvent(t){let e=t.data;e.id||(e.method==="onLoad"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onComplete"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onDestroy"&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),e.method==="onUnfreeze"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(e.result.event)),e.method==="onFrame"&&e.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=e.result.event.currentFrame,this._eventManager.dispatch(e.result.event)),e.method==="onRender"&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),e.method==="onFreeze"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onPause"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onPlay"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onStop"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onLoadError"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onReady"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)))}async _create(t){let e;this._canvas instanceof HTMLCanvasElement?e=this._canvas.transferControlToOffscreen():e=this._canvas;let{instanceId:a}=await this._sendMessage("create",{instanceId:this._id,config:{...t,canvas:e},...L(this._canvas)},[e]);if(a!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(t){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:t}),await this._updateDotLottieInstanceState())}async setMode(t){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:t}),await this._updateDotLottieInstanceState())}async setFrame(t){this._created&&(await this._sendMessage("setFrame",{frame:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(t,e){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[t,e]}),await this._updateDotLottieInstanceState())}async setRenderConfig(t){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:t}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(t){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:t}),await this._updateDotLottieInstanceState())}async loadTheme(t){if(!this._created)return!1;let e=this._sendMessage("loadTheme",{instanceId:this._id,themeId:t});return await this._updateDotLottieInstanceState(),e}async load(t){this._created&&(await this._sendMessage("load",{config:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(t){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:t}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:t,width:e}=L(this._canvas);this._canvas.width=e,this._canvas.height=t,await this._sendMessage("resize",{height:t,instanceId:this._id,width:e}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),t._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(t){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:t}),await this._updateDotLottieInstanceState())}async loadAnimation(t){this._created&&(await this._sendMessage("loadAnimation",{animationId:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(t){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:t}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let t=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=t.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(t){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:t}),await this._updateDotLottieInstanceState())}async loadThemeData(t){if(!this._created)return!1;let e=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:t});return await this._updateDotLottieInstanceState(),e}async setViewport(t,e,a,n){return this._created?this._sendMessage("setViewport",{x:t,y:e,width:a,height:n,instanceId:this._id}):!1}async _sendMessage(t,e,a){let n={id:`dotlottie-request-${M()}`,method:t,params:e};return this._worker.postMessage(n,a||[]),new Promise(((e,a)=>{let r=i=>{let o=i.data;o.id===n.id&&(this._worker.removeEventListener("message",r),o.error?a(new Error(`Failed to execute method ${t}: ${o.error}`)):e(o.result))};this._worker.addEventListener("message",r)}))}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}static setWasmUrl(e){t._wasmUrl=e}async loadStateMachine(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:t});return await this._updateDotLottieInstanceState(),e}async loadStateMachineData(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:t});return await this._updateDotLottieInstanceState(),e}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let t=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),t}async stopStateMachine(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):!1}async postStateMachineEvent(t){return this._created?this._sendMessage("postStateMachineEvent",{event:t,instanceId:this._id}):!1}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),a=this._canvas.width/e.width,n=this._canvas.height/e.height,r=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,i=(t.clientX-e.left)*a/r,o=(t.clientY-e.top)*n/r;return{x:i,y:o}}_onPointerUp(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${a}`)}_onPointerDown(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${a}`)}_onPointerMove(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${a}`)}_onPointerEnter(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${a}`)}_onPointerLeave(t){let{x:e,y:a}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${a}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(o&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let t=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){o&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}};a(b,"_workerManager",new C),a(b,"_wasmUrl","");var I=b;export{y as DotLottie,I as DotLottieWorker};export default null;
//# sourceMappingURL=/sm/83e9b28ea7f29f56b42cb44f0a0abcc5c76637d23cb83983a0aec0f9ed46a09b.map